(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t["vue-sfp-services"]={},t.Vue))})(this,function(t,e){"use strict";var _=Object.defineProperty;var p=(t,e,s)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var f=(t,e,s)=>(p(t,typeof e!="symbol"?e+"":e,s),s);class s{constructor(n,r,i){f(this,"_router");f(this,"_queries");this._router=n;const o=this,h=()=>{const c={};for(const[u,d]of Object.entries(i))o[u]=e.ref(r.query[u]?r.query[u]:d),e.watch(o[u],()=>{this._setQuery(this._queries)}),c[u]=o[u];return c};this._queries=h()}get queries(){return this._queries}_setQuery(n){this._router.replace({path:"",query:{...this._fixQueriesToSet(n)}})}_fixQueriesToSet(n){const r={...n};return Object.keys(r).forEach(function(i){r[i].value?r[i]=r[i].value:delete r[i]}),r}}t.SfpService=s,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
